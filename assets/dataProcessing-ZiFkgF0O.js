function n(n){const t=n.trim().split("\n"),a=new Array(t.length-1);let l=0;for(let e=1;e<t.length;e++){const n=t[e].trim();if(!n)continue;const o=n.split(","),i=parseFloat(o[0]),r=parseFloat(o[1]),u=parseFloat(o[2]);isNaN(i)||isNaN(r)||isNaN(u)||-999===u||(a[l++]={lat:i,lon:r,value:u})}return a.length=l,a}function t(n,t){if(!n||0===n.length)return[];const a={"gulf-stream":{latMin:25,latMax:40,lonMin:-80,lonMax:-60},sargasso:{latMin:20,latMax:35,lonMin:-70,lonMax:-40},california:{latMin:32,latMax:42,lonMin:-125,lonMax:-120},australia:{latMin:-40,latMax:-25,lonMin:145,lonMax:155}}[t];return a?n.filter(n=>n.lat>=a.latMin&&n.lat<=a.latMax&&n.lon>=a.lonMin&&n.lon<=a.lonMax):n.slice(0,Math.min(n.length,100))}function a(n){if(!n||0===n.length)return{min:0,max:0,mean:0,std:0,count:0};const t=n.map(n=>n.value),a=Math.min(...t),l=Math.max(...t),e=t.length||1,o=t.reduce((n,t)=>n+t,0)/e,i=t.length>1?t.reduce((n,t)=>n+Math.pow(t-o,2),0)/e:0,r=Math.sqrt(i);return{min:a,max:l,mean:o,std:r,count:n.length}}function l(n,t=24){if(!n||0===n.length)return Array(t).fill(0).map((n,t)=>({hour:t,value:0,anomaly:0}));const l=a(n),e=l.max-l.min,o=e>0?e/t:1,i=Array(t).fill(0).map((n,t)=>({bin:t,value:0,count:0}));return n.forEach(n=>{const a=Math.min(Math.floor((n.value-l.min)/o),t-1);a>=0&&a<t&&(i[a].value+=n.value,i[a].count+=1)}),i.map((n,t)=>({hour:t,value:n.count>0?n.value/n.count:0,anomaly:n.count>0?n.value/n.count-l.mean:0}))}function e(n,t=1e3){if(!n||n.length<=t)return n;const a=Math.floor(n.length/t),l=new Array(Math.ceil(n.length/a));let e=0;for(let o=0;o<n.length;o+=a)l[e++]=n[o];return l.length=e,l}function o(n){const t=Math.abs(n)/50;return Math.min(.2+.8*t,1)}function i(n,t=null,a=null){let l=.3;if(l+=Math.abs(n)/100*.4,null!==t){l+=.3*Math.min(t/10,1)}if(null!==a){l+=a>=15&&a<=25?.3:.1}return Math.min(l,2)}export{o as a,l as b,i as c,a as d,t as g,n as p,e as s};
